exit
@dev_sites = @dev_sites.joins(:statuses).where( 'statuses.status_date = (SELECT MAX(statuses.status_date) FROM statuses WHERE statuses.dev_site_id = dev_sites.id)' ).where( statuses: { status: ["Comment Period in Progress", "Community Information and Comment Session Open"] } ).group('dev_sites.id').first
pp @dev_sites.first.statuses
@dev_sites.first
@dev_sites = @dev_sites.joins(:statuses).where( 'statuses.status_date = (SELECT MAX(statuses.status_date) FROM statuses WHERE statuses.dev_site_id = dev_sites.id)' ).where( statuses: { status: ["Comment Period in Progress", "Community Information and Comment Session Open"] } ).group('dev_sites.id')
@dev_sites = @dev_sites.joins(:statuses).where( 'statuses.status_date = (SELECT MAX(statuses.status_date) FROM statuses WHERE statuses.dev_site_id = dev_sites.id)' ).where( statuses: { status: ["Comment Period in Progress", "Community Information and Comment Session Open"] } )group('dev_sites.id')
@dev_sites = DevSite.all
@dev_sites = @dev_sites.joins(:statuses).where( 'statuses.status_date = (SELECT MAX(statuses.status_date) FROM statuses WHERE statuses.dev_site_id = dev_sites.id)' ).group('dev_sites.id')
@dev_sites = DevSite.all
@dev_sites = @dev_sites.joins(:statuses).select { |dev_site| dev_site.statuses.order("created_at desc").limit(1).where( statuses: { status: ["Comment Period in Progress", "Community Information and Comment Session Open"] } ) }
@dev_sites = DevSite.all
@dev_sites = @dev_sites.joins(:statuses).select { |dev_site| dev_site.statuses.order("created_at desc").limit(1).where( statuses: { status: ["Comment Period in Progress", "Community Information and Comment Session Open"] } ) }
pp @dev_sites.first.statuses
@dev_sites.first.statuses.last
@dev_sites.first
@dev_sites = @dev_sites.joins(:statuses).select { |dev_site| dev_site.statuses.order("created_at desc").limit(1).where( statuses: { status: ["Comment Period in Progress", "Community Information and Comment Session Open"] } ) }
@dev_sites = @dev_sites.joins(:statuses).select { |dev_site| dev_site.statuses.order("created_at desc").limit(1).where( statuses: { status: ["Comment Period in Progress", "Community Information and Comment Session Open"] } )
@dev_sites.where('statuses.created_on = (SELECT MAX(statuses.created_on) FROM statuses.dev_site_id = dev_sites.id)')
@dev_sites = DevSite.all
@dev_sites = @dev_sites.joins(:statuses).where('statuses.created_on = (SELECT MAX(statuses.created_on) FROM statuses')
@dev_sites.where('statuses.created_on = (SELECT MAX(statuses.created_on) FROM statuses')
@dev_sites = @dev_sites.joins(:statuses).where('statuses.created_on = (SELECT MAX(statuses.created_on) FROM statuses')
exit
@dev_sites.joins(:statuses).count
@dev_sites.joins(:statuses)
@dev_sites
exit
pp @dev_sites.first.statuses
@dev_sites.first.statuses
@dev_sites.statuses
@dev_sites.count
exit
wards[two["ward"]]
exit
wards[:"14"]
wards["14"]
wards
wards[two["ward"]]
wards[two["wae"]]
two["ward"]
two[:ward]
exit
pp dev_site
dev_site.errors
dev_site.valid?
dev_site
continue
File.basename(file.path)
fileFile.basename(file.path)
file
file.filename
pp file.methods.sort.grep(/name/)
pp file.methods.sort
file.methods.sort
